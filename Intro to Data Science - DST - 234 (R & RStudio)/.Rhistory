leaflet() |>
addTiles() |>
addMarkers(lng = ~lon,
lat = ~lat) |>
addPopups(lng = ~lon,
lat = ~lat,
popup = ~place)
e
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Define data:
buffalo_data <- tibble(lat = 45.1718, lon = 93.8748)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
# YOUR TURN: Look up the latitude and longitude of an interesting place to you.
# Display that map.
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(45.1718,62.6010),
lon = c(93.8748,29.7636),
place = c("Buffalo","Joensuu"),
place_color = c("blue","red"))
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Define data:
buffalo_data <- tibble(lat = 45.1718, lon = 93.8748)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
# YOUR TURN: Look up the latitude and longitude of an interesting place to you.
# Display that map.
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(45.1718,62.6010),
lon = c(45.3055,93.7941),
place = c("Buffalo","Monticello"),
place_color = c("blue","red"))
View(uef_data)
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(45.1718,45.3055),
lon = c(93.8748,93.7941),
place = c("Buffalo","Monticello"),
place_color = c("blue","red"))
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Define data:
buffalo_data <- tibble(lat = 45.1718, lon = 93.8748)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
# YOUR TURN: Look up the latitude and longitude of an interesting place to you.
# Display that map.
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(45.1718,45.3055),
lon = c(93.8748,93.7941),
place = c("Buffalo","Monticello"),
place_color = c("blue","red"))
# Define data:
buffalo_data <- tibble(lat = 45.1718, lon = 93.8748)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
# YOUR TURN: Look up the latitude and longitude of an interesting place to you.
# Display that map.
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(45.1718,45.3055),
lon = c(93.8748,93.7941),
place = c("Buffalo","Monticello"),
place_color = c("blue","red"))
View(uef_data)
View(buffalo_data)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Define data:
buffalo_data <- tibble(lat = 93.8748, lon = 45.1718)
# A very basic interactive map of Kuopio
buffalo_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Task 1: Make an interactive map from a data frame
# Define data:
kuopio_data <- tibble(lat = 62.8980, lon = 27.6782)
# A very basic interactive map of Kuopio
kuopio_data |>
leaflet() |>
addTiles() |>  # Puts in the geographic map
addMarkers(lng = ~lon, lat = ~lat)
# YOUR TURN: Look up the latitude and longitude of an interesting place to you.
# Display that map.
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(62.8980,62.6010),
lon = c(27.6782,29.7636),
place = c("Kuopio","Joensuu"),
place_color = c("blue","red"))
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(62.8980,62.6010),
lon = c(27.6782,29.7636),
place = c("Kuopio","Joensuu"),
place_color = c("blue","red"))
source("C:/Users/kramb/Desktop/DST 234 Files/day22-leaflet.R")
# Task 1b
# Let's add some more data for context:
uef_data <- tibble(lat = c(62.8980,62.6010),
lon = c(27.6782,29.7636),
place = c("Kuopio","Joensuu"),
place_color = c("blue","red"))
# Or you can do a city with a dot, and have the popup come up with the
uef_data |>
leaflet() |>
addTiles() |>
addCircles(lng = ~lon,
lat = ~lat,
popup=~place,
radius = 5000,
color = ~place_color)  # Radius specified in meters!
# Task 1c: adding even more context:
# The popup is an html code:
map2 <- uef_data |>
leaflet() |>
addTiles() |>
addCircleMarkers(lng = ~lon,
lat = ~lat,
popup=~paste("Name: ", place, "</br> UEF campus"),
radius = 5)
# Print the map to your screen by running this code
map2
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
library(leaflet.extras)   # For leaflet heatmaps
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
glimpse(mn_1937)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937/", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937/.", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937", layer = "cartodb-query")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937/.", layer = "cartodb-query")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937/.", layer = "cartodb-query")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "MNMinneapolis1937/", layer = "cartodb-query")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "DST 234 Files/MNMinneapolis1937/", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "DST 234 Files/MNMinneapolis1937/", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "DST 234 Files/MNMinneapolis1937/", layer = "cartodb-query")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
glimpse(mn_1937)
# Now make the leaflet map!
mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~holc_grade,
fillOpacity = 0.3,
popup = ~holc_id)
# Define your factors of the different colors
neighbor_pal <-colorFactor(palette = "RdYlBu",
domain = c("A","B","C","D")
)
# Now we add in the code
mn_map <- mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~neighbor_pal(holc_grade),
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6)
mn_map
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~holc_grade,
fillOpacity = 0.3,
popup = ~holc_id)
# Define your factors of the different colors
neighbor_pal <-colorFactor(palette = "Purples",
domain = c("A","B","C","D")
)
# Now we add in the code
mn_map <- mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~neighbor_pal(holc_grade),
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6)
mn_map
?fillColor
# Now we add in the code
mn_map <- mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~neighbor_pal(holc_grade),
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6) |>
addProviderTiles(providers$Stadia.StamenToner)
mn_map
# Read in the parks data
mn_parks <- st_read(dsn = "Parks-shp/", layer = "Parks")
# Read in the parks data
mn_parks <- st_read(dsn = "C:/Users/kramb/Desktop/DST 234 Files/Parks-shp/", layer = "Parks")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
# Read in the parks data
mn_parks <- st_read(dsn = "C:/Users/kramb/Desktop/DST 234 Files/Parks-shp/", layer = "Parks")
# Helpful just to see what the data frame contains
glimpse(mn_parks)
# Now make the leaflet map!
mn_map |>
addPolylines(data = mn_parks,
weight = 2,
color = "purple",
fillColor = 'purple',
opacity = 0.5)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
mn_1937 <- st_read(dsn = "C:/Users/kramb/Desktop/DST 234 Files/MNMinneapolis1937/", layer = "cartodb-query")
glimpse(mn_1937)
# Now make the leaflet map!
mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~holc_grade,
fillOpacity = 0.3,
popup = ~holc_id)
# Define your factors of the different colors
neighbor_pal <-colorFactor(palette = "Purples",
domain = c("A","B","C","D")
)
# Now we add in the code
mn_map <- mn_1937 |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~neighbor_pal(holc_grade),
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6) #|>
#addProviderTiles(providers$Stadia.StamenToner)
mn_map
# Read in the parks data
mn_parks <- st_read(dsn = "C:/Users/kramb/Desktop/DST 234 Files/Parks-shp/", layer = "Parks")
# Helpful just to see what the data frame contains
glimpse(mn_parks)
# Now make the leaflet map!
mn_map |>
addPolylines(data = mn_parks,
weight = 2,
color = "purple",
fillColor = 'purple',
opacity = 0.5)
# Now make the leaflet map!
mn_map |>
addPolylines(data = mn_parks,
weight = 2,
color = "purple",
fillColor = 'purple',
opacity = 0.5)
tows <- read.csv(file = "Snow_Emergency_Victory1_Tows_2023.csv")
tows <- read.csv(file = "Snow_Emergency_Victory1_Tows_2023.csv")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("C:/Users/kramb/Desktop/DST 234 Files/Day22.R")
source("~/DST 234 Files/Day22.R")
mn_1937 <- st_read(dsn = "C:/Users/kramb/Documents/DST 234 Files/MNMinneapolis1937/", layer = "cartodb-query")
tows <- read.csv(file = "Snow_Emergency_Victory1_Tows_2023.csv")
setwd("~/DST 234 Files")
source("~/DST 234 Files/Day22.R")
tows <- read.csv(file = "Snow_Emergency_Victory1_Tows_2023.csv")
tows |>
leaflet() |>
addTiles() |>
addWebGLHeatmap(lng=~Longitude, lat=~Latitude, size = 1000)
glimpse(tows)
totTows = tows |>
group_by(Neighborho) |>
summarize(N=n()) |>
arrange(desc(N)) |>
na.omit()
tows |>
leaflet() |>
addTiles() |>
addWebGLHeatmap(lng=~Longitude, lat=~Latitude, size = 1000,opacity = 50)
glimpse(tows)
totTows = tows |>
group_by(Neighborho) |>
summarize(N=n()) |>
arrange(desc(N)) |>
na.omit()
tows |>
leaflet() |>
addTiles() |>
addWebGLHeatmap(lng=~Longitude, lat=~Latitude, size = 1000,opacity = .5)
# I've already prepared the shapefile in our folder - remember to transform it to google coordinates
nbhd_shp <- st_read(dsn = "Neighborhoods/", layer = "Neighborhoods")
source("~/DST 234 Files/Day22.R")
source("~/DST 234 Files/Day22.R")
source("~/DST 234 Files/Day22.R")
glimpse(nbhd_shp)
tows_merged <- nbhd_shp |>
left_join(totTows,by=c("BDNAME"="Neighborho"))
max_tows <- max(totTows$N) # We need this to specify the largest value in our paletted.
tow_palette <- colorNumeric(palette ="YlGnBu",
domain = c(0,max_tows))  # We need to define the domain as a range of values.
tows_merged |>
leaflet() |>
addTiles() |>
addPolygons(weight=1,
fillOpacity = 0.7,
color='blue',
fillColor=~tow_palette(N),
popup=~paste(BDNAME, "</br>",N)
)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "cartodb-query")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
glimpse(police_data)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
glimpse(police_data)
View(police_data)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
glimpse(police_data)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = ~neighbor_pal(holc_grade),
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
glimpse(police_data)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = "white",
fillOpacity = 0.6,
popup = ~holc_id) |>
addLegend(pal = neighbor_pal,
values = ~holc_grade,
opacity = 0.6)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = "white",
fillOpacity = 0.6,
popup = ~holc_id)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addPolygons(weight = 1,
color = "white",
fillColor = "white",
fillOpacity = 0.6)
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
glimpse(police_data)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addMarkers(lng = ~centerLong, lat = ~centerLat)
police_map
library(tidyverse)
library(sf)     # R wrapper around GDAL/OGR
library(leaflet)    # for fortifying shapefiles
library(leaflet.extras)   # For leaflet heatmaps
library(ggmap)   # Making google maps
police_data <- mn_1937 <- st_read(dsn = "~/DST 234 Files/Police_Incidents_2023", layer = "Police_Incidents_2023")
#glimpse(police_data)
police_map <- police_data |>
leaflet() |>
addTiles() |>
addMarkers(lng = ~centerLong, lat = ~centerLat)
glimpse(police_map)
